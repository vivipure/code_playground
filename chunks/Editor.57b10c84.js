import{c as i,b as g,o as f,g as d,t as m,u as S}from"./web.c36fef21.js";import{m as C,c as h}from"./monaco.6cc664ac.js";function E(e,l){const o=localStorage.getItem(e),u=o?JSON.parse(o):l,[t,r]=i(u);return[t,a=>{try{const n=a instanceof Function?a(t()):a;localStorage.setItem(e,JSON.stringify(n)),r(n)}catch(n){console.log(n)}}]}const v=m('<div class="h-full w-full"></div>');function M(e){let{language:l="typescript",value:o=""}=e,u,t,r=!1;g(()=>{(e.language!==l||e.value!==o)&&(r=!0,s(e.value||"",e.language)),l=e.language,o=e.value});function s(a,n){const c=t?.getModel();C.editor.setModelLanguage(c,n),t?.setValue(a)}return f(()=>{t=h(u,{language:l,value:o}),window.onresize=()=>{t.layout()},t.onDidContentSizeChange(()=>{t.layout()}),e.onChange&&t.onDidChangeModelContent(a=>{if(r){r=!1;return}o=t.getValue(),e.onChange(o,a)})}),(()=>{const a=d(v),n=u;return typeof n=="function"?S(n,a):u=a,a})()}export{M as E,E as u};
